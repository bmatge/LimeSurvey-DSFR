{#
    LimeSurvey - DSFR Theme
    Question Container with DSFR styling

    The container wraps each question with DSFR classes and structure.
    Provides consistent spacing and error handling.
#}

<!-- Question {{ aQuestion.qid }} -->
<div {{ aQuestion.attributes }}
     class="fr-mb-6w {{ aQuestion.class }} {{ aQuestion.input_error_class }} {{ aSurveyInfo.class.questioncontainer }} {% if aQuestion.input_error_class %}fr-input-group--error{% endif %}"
     {{ aSurveyInfo.attr.questioncontainer }}>

    {# Question number badge if enabled #}
    {% if aSurveyInfo.options.showqnumcode != 'N' and aQuestion.mandatory != 'Y' %}
        <p class="fr-badge fr-badge--sm fr-badge--info fr-mb-2w">
            {% if aSurveyInfo.options.showqnumcode == 'C' %}
                {{ aQuestion.code }}
            {% elseif aSurveyInfo.options.showqnumcode == 'B' %}
                {{ aQuestion.number }} - {{ aQuestion.code }}
            {% else %}
                {{ gT("Question") }} {{ aQuestion.number }}
            {% endif %}
        </p>
    {% elseif aQuestion.mandatory == 'Y' %}
        <p class="fr-badge fr-badge--sm fr-badge--error fr-mb-2w">
            {% if aSurveyInfo.options.showqnumcode == 'C' %}
                {{ aQuestion.code }} *
            {% elseif aSurveyInfo.options.showqnumcode == 'B' %}
                {{ aQuestion.number }} - {{ aQuestion.code }} *
            {% else %}
                {{ gT("Question") }} {{ aQuestion.number }} *
            {% endif %}
        </p>
    {% endif %}

    {# Question content #}
    {{ include('./subviews/survey/question.twig') }}
</div>
<!-- End of question {{ aQuestion.qid }} -->
